var appMessage={Error:"We are facing some problem while processing the current request. Please try again later.",NotFound:"Requested object not found.",SaveSuccess:"Save successfully.",UpdateSuccess:"Update successfully.",DeleteSuccess:"Delete successfully."},App=function(){var t=function(){$(".app-copy-url").select();document.execCommand("copy")},i=function(){$("#appPreLoader").addClass("appPreLoaderLight");$("#appPreLoader").fadeIn(100)},r=function(){$("#appPreLoader").remove("appPreLoaderLight");$("#appPreLoader").fadeOut(100)},u=function(n,t,i,r,u,f){f=typeof f=="undefined"?!0:f;var e=f?"application/json":"text/plain",o=f?"json":"html";return u||App.LoaderShow(),$.ajax({type:i?"POST":"GET",url:n,data:i?JSON.stringify(t):t,contentType:e,dataType:o,beforeSend:function(){App.LoaderShow()},success:function(n){return u||App.LoaderHide(),typeof r=="function"?r(n):n},complete:function(){App.LoaderHide()},error:function(){return!1},"async":u})},f=function(n,t){var e=[],i,r,u;for(i in n)n[i].ParentId==t&&(r={},r.text=n[i].Name,n[i].Level==3?r.id=n[i].Id:(u=f(n,n[i].Id),u.length&&(r.children=u)),e.push(r));return e},e=function(n,t,i){App.sendAjaxRequest(t,i,!0,function(t){var i="";$.isArray(t)&&t.length>0&&$(t).each(function(n,t){i+='<option value="'+t.Value+'">'+t.Text+"<\/option>"});$("#"+n).html(i)},!0);$("#"+n).val(0)},o=function(n,t){toastr.clear();toastr.options={closeButton:!0,debug:!1,positionClass:"toast-top-center",onclick:null,showDuration:"1000",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};t=="info"?toastr.info(n,"Info !"):t=="warning"?toastr.warning(n,"Warning !"):t=="success"?toastr.success(n,"Success !"):t=="danger"&&toastr.error(n,"Error !")},s=function(n){toastr.clear();toastr.options={closeButton:!0,debug:!1,positionClass:"toast-top-center",onclick:null,showDuration:"1000",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};toastr.error(n,"Error !")},h=function(n){toastr.clear();toastr.options={closeButton:!0,debug:!1,positionClass:"toast-top-center",onclick:null,showDuration:"1000",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};toastr.info(n,"Info !")},c=function(n){toastr.clear();toastr.options={closeButton:!0,debug:!1,positionClass:"toast-top-center",onclick:null,showDuration:"1000",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};toastr.success(n,"Success !")},ft=function(n){return n.toLowerCase().replace(/\b[a-z]/g,function(n){return n.toUpperCase()})},l=function(){return 10},a=function(){},v=function(){a()},y=function(n,t){$.getJSON(n,t).done(function(n){return n}).fail(function(n,t,i){var r=t+", "+i;toastr.error(r,"Error !")})},p=function(n,t,i,r){return{bJQueryUI:!0,bAutoWidth:!0,sPaginationType:"full_numbers",bPaginate:!0,iDisplayLength:t,bSort:!1,bFilter:!0,bSortClasses:!1,lengthChange:!1,oLanguage:{sLengthMenu:"Display _MENU_ records per page",sZeroRecords:"Data not found.",sInfo:"Page _START_ to _END_ (about _TOTAL_ results)",sInfoEmpty:"Page 0 to 0 (about 0 results)",sInfoFiltered:""},bProcessing:!0,bServerSide:!0,initComplete:function(t,i){var r=Object.keys(i.data[0]);tableColumns=r;App.SetDataTableSearch(n)},drawCallback:function(){},ajax:i,columns:w(r)}},w=function(t){var r=[],i,u,f;if(t.length>0)for(i=0;i<t.length;i++)u={name:n(t[i]),data:n(t[i]),title:t[i],sortable:!1,searchable:!1},r.push(u);return f={title:"Actions",mRender:function(n,t,i){return'<a href="javascript.void(0);" data-typename="'+i.typeName+'" data-typeid="'+i.typeId+'" class="btn btn-success lnkAppModal">Details<\/a> <a href="javascript.void(0);" data-typename="'+i.typeName+'" data-typeid="'+i.typeId+'" style="margin-left: 5px;" class="btn btn-warning lnkAppModal">Edit<\/a> <a href="javascript.void(0);" data-typename="'+i.typeName+'" data-typeid="'+i.typeId+'" style="margin-left: 5px;" class="btn btn-danger lnkAppModal">Delete<\/a>'},width:"20%"},r.push(f),r},b=function(n){var i="#"+n+"_filter label",t;$(i).attr("class","datatable-control");t="#"+n+"_filter label input";$(t).attr("class","datatable-form-control");$(t).attr("placeholder","Search by keyword")},n=function(n){return n.replace(/(?:^\w|[A-Z]|\b\w)/g,function(n,t){return t==0?n.toLowerCase():n.toUpperCase()}).replace(/\s+/g,"")},k=function(n){$.ajax({url:n,type:"GET",dataType:"json",contentType:"application/json; charset=utf-8",beforeSend:function(){OpenAppProgressModal()},success:function(n){var t=n.messageType,i=n.messageText;LoadAppMessageModal(t,i)},error:function(n){var t=n.responseText,i=t;LoadErrorAppMessageModalWithText(i)}})},d=function(n,t){$.ajax({url:n,type:"GET",dataType:"json",data:t,contentType:"application/json; charset=utf-8",beforeSend:function(){OpenAppProgressModal()},success:function(n){var t=n.messageType,i=n.messageText;LoadAppMessageModal(t,i)},error:function(n){var t=n.responseText,i=t;LoadErrorAppMessageModalWithText(i)}})},g=function(n){$.ajax({url:n,type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",beforeSend:function(){OpenAppProgressModal()},success:function(n){var t=n.messageType,i=n.messageText;LoadAppMessageModal(t,i)},error:function(n){var t=n.responseText,i=t;LoadErrorAppMessageModalWithText(i)}})},nt=function(n){$.ajax({url:n,type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",beforeSend:function(){OpenAppProgressModal()},success:function(n){var t=n.messageType,i=n.messageText;LoadAppMessageModal(t,i);DataTableRefreshInIndexPage()},error:function(n){var t=n.responseText,i=t;LoadErrorAppMessageModalWithText(i)}})},tt=function(n,t){$.ajax({url:n,type:"POST",dataType:"json",data:t,contentType:"application/json; charset=utf-8",beforeSend:function(){OpenAppProgressModal()},success:function(n){var t=n.messageType,i=n.messageText;LoadAppMessageModal(t,i)},error:function(n){var t=n.responseText,i=t;LoadErrorAppMessageModalWithText(i)}})},it=function(n,t){$.ajax({url:n,type:"POST",dataType:"json",data:t,contentType:"application/json; charset=utf-8",beforeSend:function(){OpenAppProgressModal()},success:function(n){var t=n.messageType,i=n.messageText;LoadAppMessageModal(t,i);DataTableRefreshInIndexPage()},error:function(n){var t=n.responseText,i=t;LoadErrorAppMessageModalWithText(i)}})},rt=function(n){var t=$("#"+n);t.length>0&&($(t).FormReset(),$(t).FormValidationReset())},ut=function(n){App.LoaderHide();console.log(n);n.success==!1?App.ToastrNotifierError(n.error):App.ToastrNotifierSuccess(n.error)};return{Init:v,LoaderShow:i,LoaderHide:r,SendAjaxRequest:u,LoadDropdown:e,ToastrNotifier:o,ToastrNotifierInfo:h,ToastrNotifierError:s,ToastrNotifierSuccess:c,DisplayLength:l,GetAjax:y,GetDataTableConfiguration:p,SetDataTableSearch:b,AjaxJsonGet:k,AjaxJsonGetWithParam:d,AjaxJsonPost:g,AjaxJsonPostForDelete:nt,AjaxJsonPostWithParam:tt,AjaxJsonPostForDeleteWithParam:it,ToCamelCase:n,AppAreaName:{Admin:"Admin"},AppCopyUrl:t,AjaxFormReset:rt,AjaxFormPostSuccess:ut}}(),AppModal;$(document).ready(function(){App.Init();$("body #emailus .nav .nav-link").on("click",function(n){n.preventDefault();var t=$(this).data("cat"),i=$(this).data("val");$("#messageCategory").val(t);$("#messageCategoryValue").val(i)})});AppModal=function(){var y=function(){App.LoaderShow()},p=function(n){v(n);App.LoaderHide()},w=function(){var f=$("#appCommonModalMessage").html().trim(),n=f.split("_"),e=n[0],t=n[1],i=n[2],r;e=="True"?(u(),App.ToastrNotifier(i,t)):(r="alert alert-"+t,$("#appCommonModalMessage").html(""),$("#appCommonModalMessage").removeClass(),$("#appCommonModalMessage").addClass(r),$("#appCommonModalMessage").html(i),$("#appCommonModalMessage").show(),CloseAppProgress())},b=function(n){if(n!=undefined||n!=null)if(n.success==!0)u(),App.ToastrNotifier(n.error,n.errortype);else{var t="alert alert-"+n.errortype,i=n.error;$("#appCommonModalMessage").html("");$("#appCommonModalMessage").removeClass();$("#appCommonModalMessage").addClass(t);$("#appCommonModalMessage").html(i);$("#appCommonModalMessage").show();CloseAppProgress()}},k=function(){var f=$("#appCommonModalMessage").html().trim(),n=f.split("_"),e=n[0],t=n[1],i=n[2],r;e=="True"?(u(),App.ToastrNotifier(i,t)):(r="alert alert-"+t,$("#appCommonModalMessage").html(""),$("#appCommonModalMessage").removeClass(),$("#appCommonModalMessage").addClass(r),$("#appCommonModalMessage").html(i),$("#appCommonModalMessage").show(),CloseAppProgress())},d=function(n){if(n!=undefined||n!=null)if(n.success==!0)u(),App.ToastrNotifier(n.error,n.errortype);else{var t="alert alert-"+n.errortype,i=n.error;$("#appCommonModalMessage").html("");$("#appCommonModalMessage").removeClass();$("#appCommonModalMessage").addClass(t);$("#appCommonModalMessage").html(i);$("#appCommonModalMessage").show();CloseAppProgress()}},s=function(n){var t=$("#"+n);t.unbind();t.data("validator",null);$.validator.unobtrusive.parse(document);t.validate(t.data("unobtrusiveValidation").options)},yt=function(n,t,i){f(t);$.get(n,function(n){e(n);s(i);o()})},pt=function(n,t){f(t);$.get(n,function(n){e(n);o()})},h=function(n,t,i){f(t);$.get(n,function(n){e(n);s(i);o()})},g=function(n,t){f(t);$.get(n,function(n){e(n);o()})},f=function(n){$("#appCommonModal").find("#appCommonModalTitle").html("");$("#appCommonModal").find("#appCommonModalTitle").html(n)},e=function(n){$("#appCommonModal").find("#appCommonModalBody").html("");$("#appCommonModal").find("#appCommonModalBody").html(n)},o=function(){$("#appCommonModal").modal("show")},u=function(){$("#appCommonModal").modal("hide")},nt=function(n,t){tt(t);$("#hdDeleteId").val("");$("#hdDeletePostUrl").val("");$("#hdDeleteId").val(n);$("#hdDeletePostUrl").val(n);it()},tt=function(n){$("#appDeleteModal").find("#appDeleteModalTitle").html("");$("#appDeleteModal").find("#appDeleteModalTitle").html(n)},wt=function(n){$("#appDeleteModal").find("#appDeleteModalBody").html("");$("#appDeleteModal").find("#appDeleteModalBody").html(n)},it=function(){$("#appDeleteModal").modal("show")},c=function(){$("#appDeleteModal").modal("hide")},rt=function(){var t=$("#hdDeleteId").val().trim(),n=$("#hdDeletePostUrl").val().trim();return App.SendAjaxRequest(n,null,!0,function(n){c();(n!=undefined||n!=null)&&App.ToastrNotifier(n.error,n.errortype);a()},!0),null},ut=function(){$("#hdDeleteId").val("");$("#hdDeletePostUrl").val("");c()},bt=function(u,f){var e=u,o;t(e);o=n(e,f);i(o);CloseAppProgress();r()},kt=function(u,f){var e=u,o;t(e);o=n(e,f);i(o);r()},dt=function(u){var f="Info",e;t(f);e=n(f,u);i(e);CloseAppProgress();r()},gt=function(r){var u="Warn",f;t(u);f=n(u,r);i(f);CloseAppProgress();OpenAppMessage()},ni=function(u){var f="Success",e;t(f);e=n(f,u);i(e);CloseAppProgress();r()},ti=function(u){var f="Error",e;t(f);e=n(f,u);i(e);CloseAppProgress();r()},n=function(n,t){return"<div id='messageModalPage' class='messageModalPage'><div class='row'><div style='margin-bottom: 10px !important;' class='alert alert-"+n+"'>"+t+"<\/div> <\/div><\/div><\/div>"},t=function(n){var t=n.toLowerCase().replace(/\b[a-z]/g,function(n){return n.toUpperCase()});$("#appMessageModal").find("#appMessageModalTitle").html("");$("#appMessageModal").find("#appMessageModalTitle").html(t)},i=function(n){$("#appMessageModal").find("#appMessageModalBody").html("");$("#appMessageModal").find("#appMessageModalBody").html(n)},r=function(){$("#appMessageModal").modal("show")},l=function(){$("#appMessageModal").modal("hide")},ft=function(){l()},a=function(){(dataTableObjData!=undefined||dataTableObjData!=null)&&dataTableObjData.ajax.reload()},v=function(n){var t="#"+n,i=$(t).DataTable();i.ajax.reload()},et=function(n){var t=$(n),i=t.attr("data-href"),r=t.attr("title");return h(i,r,"appCommonModalForm"),!1},ot=function(n){var t=$(n),i=t.attr("data-href"),r=t.attr("title");return g(i,r),!1},st=function(n){var t=$(n),i=t.attr("data-href"),r=t.attr("title");return h(i,r,"appCommonModalForm"),!1},ht=function(n){var t=$(n),i=t.attr("data-href"),r=t.attr("title");return nt(i,r),!1},ct=function(){$("#appCommonModal").length==0?$(document.body).append('<div class="modal fade text-left" id="appCommonModal" tabindex="-1" role="dialog" aria-labelledby="appCommonModalTitle" aria-hidden="true" > <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <label class="modal-title text-text-bold-600" id="appCommonModalTitle"><\/label> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <span aria-hidden="true">&times;<\/span> <\/button> <\/div> <div class="modal-body" id="appCommonModalBody"> <\/div> <\/div> <\/div><\/div>'):($("#appCommonModal").find("#appCommonModalTitle").html(""),$("#appCommonModal").find("#appCommonModalBody").html(""))},lt=function(){$("#appDeleteModal").length==0?$(document.body).append('<div class="modal fade text-left" id="appDeleteModal" tabindex="-1" role="dialog" aria-labelledby="appDeleteModalTitle" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <label class="modal-title text-text-bold-600" id="appDeleteModalTitle"><\/label> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;<\/span><\/button> <\/div> <div class="modal-body" id="appDeleteModalBody"> <div id="deleteModalPage" class="deleteModalPage"> <div class="row"> <input type="hidden" name="hdDeleteId" id="hdDeleteId" value="" /> <input type="hidden" name="hdDeletePostUrl" id="hdDeletePostUrl" value="" /> <\/div> <div class="row"> <div class="col-12"> <div class="alert alert-warning"><strong>Do you want to delete this?<\/strong><\/div> <\/div> <\/div> <\/div> <div class="modal-footer" id="appDeleteModalFooter"> <div class="row"> <button type="button" class="btn btn-success" id="btnYesDelete" name="btnYesDelete" onclick="AppModal.YesDelete()" style="width: 60px;">Yes<\/button> <button type="button" class="btn btn-warning ml-2" id="btnNoDelete" name="btnNoDelete" onclick="AppModal.NoDelete()" style="width: 60px;">No<\/button> <\/div> <\/div> <\/div> <\/div> <\/div> <\/div>'):($("#appDeleteModal").find("#appDeleteModalTitle").html(""),$("#appDeleteModal").find("#appDeleteModalBody").html(""))},at=function(){$("#appMessageModal").length==0?$(document.body).append('<div class="modal fade text-left" id="appMessageModal" tabindex="-1" role="dialog" aria-labelledby="appMessageModalTitle" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <label class="modal-title text-text-bold-600" id="appMessageModalTitle"><\/label> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <span aria-hidden="true">&times;<\/span> <\/button> <\/div> <div class="modal-body" id="appMessageModalBody"><\/div> <div class="modal-footer" id="appMessageModalFooter"> <div class="row"> <button type="button" class="btn btn-primary" data-dismiss="modal" style="width: 60px;">Ok<\/button> <\/div> <\/div> <\/div> <\/div> <\/div>'):($("#appMessageModal").find("#appMessageModalTitle").html(""),$("#appMessageModal").find("#appMessageModalBody").html(""))},vt=function(){ct();lt();at()};return{Init:vt,AddCommon:et,DetailsCommon:ot,EditCommon:st,DeleteCommon:ht,ReloadDataTables:a,ReloadDataTablesById:v,CloseCommonModal:u,CommonModalBegin:y,CommonModalComplete:p,CommonModalSuccessForReplaceMode:w,CommonModalSuccess:b,CommonModalFailureForReplaceMode:k,CommonModalFailure:d,YesDelete:rt,NoDelete:ut,OpenMessageModal:r,CloseMessageModal:l,OkMessage:ft}}();$(document).ready(function(){AppModal.Init()});